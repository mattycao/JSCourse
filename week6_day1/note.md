1. (\~~Math.random()*0xffffff).toString(16)
2. JSON.stringify(o), will use the o.toJSON() method, then do the stringify