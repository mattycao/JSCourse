<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
body{ overflow:hidden; margin:0;}
#div1{ height:334px; width:450px; position:relative; margin:100px auto;   }
#div1 img{ border:none; position:absolute; top:0; left:0; opacity:1; z-index:1000;}
#mask{height:334px; width:450px; position:absolute; top:0; left:0; z-index:2000; background:red; opacity:0; filter:alpha(opacity:0);}
</style>
</head>

<body>
<div style="width:450px; height:80px; margin:10px auto; text-align:center; line-height:80px; font-size:14px; font-weight:bold;"><a href="http://www.zhufengpeixun.cn">珠峰培训Tween运动框架应用示例</a></div>
<div id="div1">

<img src="images/image1.jpg"  /> 
<img src="images/image2.jpg" />
<img src="images/image3.jpg" />
<img src="images/image4.jpg" />
<div id="mask"></div>
</div>

</body>
</html>
<script type="text/ecmascript" src="zhufengEffect.js"></script>
<script type="text/ecmascript">


var oImgs=document.getElementById('div1').getElementsByTagName('img');

function directRandom(){
	var o={};
	var x=Math.random();
	if(x<0.333333333333){
		o.x=-1;
	}else if(x>0.66666666){
		o.x=1
	}else{	o.x=0;	}
	
	var y=Math.random();
	if(y<0.333333333){
		o.y=-1;
	}else if(y>0.66666666666){
		o.y=1
	}else{	o.y=0;	}
	if(o.x==o.y&&o.y==0){
		return directRandom()
	}else{
		return o;
	}
	
}

var oMask=document.getElementById('mask');
function callBack(){
	this.style.top=0;
	this.style.left=0;
	this.style.opacity=1;
	this.style.filter="alpha(opacity:100)";	 
	if(this.style.zIndex){
		this.style.zIndex-=1;
	}else{
		this.style.zIndex=999
	}
		
}
 	var i=oImgs.length-1; 
	oMask.onmouseover=function(){
		var direct=directRandom();		
		animate(oImgs[i],{left:oImgs[i].offsetWidth*direct.x,top:oImgs[i].offsetHeight*direct.y,opacity:0},400,1,callBack);		
		i--;
		if(i==-1){i=oImgs.length-1;}
	}	
 

</script>
